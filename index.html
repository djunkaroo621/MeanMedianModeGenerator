<!DOCTYPE html>
<html>
<head>
  <title>Mean, Median, and Mode Generator</title>
  <style>
  body  {
    font-family: sans-serif;
    font-size: 36px;
  }
  input {
    font-size: 36px;
  }
  button  {
    font-size: 36px;
  }
  #intro {
    background-color: coral;
  }
  </style>
</head>
<body>
<h1 id="intro">Input numbers separated by commas</h1>
<input type='text' id='inputLine'></input>
<button type='submit' id='subButton' onclick='generate()'>Submit</button>

<fieldset>
  <div>
    <p id='output'></p>
  </div>
  <div>
    <ul>
      <li>Mean <span id= 'mean'>result</span></li>
      <li>Median <span id='median'>result</span></li>
      <li>Mode <span id='mode'>result</span></li>
    </ul>
  </div>
</fieldset>

<script>
var numArray= [];

function generate() {

  var inputtedNum= document.getElementById('inputLine').value;

  document.getElementById('output').innerHTML= inputtedNum;
  numArray.push(inputtedNum);
  console.log(numArray);

  numArray= inputtedNum.split(', ');
  console.log(numArray);

  numArray= numArray.map(Number);
  console.log(numArray);

function mean() {
  var s= 0;
  for(var i= 0; i<numArray.length; i++) {
    s= s + numArray[i];
    console.log(s/numArray.length);
    document.getElementById('mean').innerHTML= s/numArray.length;
  }
}
mean();

function median(numArray) {
    var medianX = 0, numsLen = numArray.length;
    numArray.sort();

    if (
        numsLen % 2 === 0 // is even
    ) {
        medianX = (numArray[numsLen / 2 - 1] + numArray[numsLen / 2]) / 2;
    } else {
        medianX = numArray[(numsLen - 1) / 2];
    }
    // if (numArray.length % 2=== true) {
    //   document.getElementById('median').innerHTML= "There is no median";
    // } else if (numArray.length % 2=== false) {}
console.log(medianX);
    document.getElementById('median').innerHTML= medianX;
}
median(numArray);

function mode(numArray) {
    // as result can be bimodal or multi-modal,
    // the returned result is provided as an array
    // mode of [3, 5, 4, 4, 1, 1, 2, 3] = [1, 3, 4]
    var modes = [], count = [], i, number, maxIndex = 0;

    for (i = 0; i < numArray.length; i += 1) {
        number = numArray[i];
        count[number] = (count[number] || 0) + 1;
        if (count[number] > maxIndex) {
            maxIndex = count[number];
        }
    }

    for (i in count)
        if (count.hasOwnProperty(i)) {
            if (count[i] === maxIndex) {
                modes.push(Number(i));
            }
        }

    return modes;
    console.log(modes);
    document.getElementById('mode').innerHTML= modes;
  }
mode(numArray);
}
</script>

</body>
</html>
